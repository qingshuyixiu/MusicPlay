(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37038f00"],{"0e87":function(t,a,s){"use strict";s("e674")},"159d":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"orders"},[s("div",{staticClass:"addr"},[s("van-cell",{attrs:{"is-link":""},on:{click:t.changeasilt},scopedSlots:t._u([{key:"title",fn:function(){return[s("div",{staticClass:"name"},[s("span",{staticClass:"username"},[t._v(t._s(t.name))]),s("span",{staticClass:"userphone"},[t._v(t._s(t.tel))]),s("div",{staticClass:"dizi"},[t.isDefault?s("span",{staticClass:"def"},[t._v("[默认]")]):t._e(),s("span",{staticClass:"dztext"},[t._v(t._s(t.address))])])])]},proxy:!0}])}),s("van-popup",{style:{height:"70%"},attrs:{closeable:"",round:"",position:"bottom"},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[s("van-address-list",{attrs:{list:t.list,"default-tag-text":"默认"},on:{select:t.select},model:{value:t.chosenAddressId,callback:function(a){t.chosenAddressId=a},expression:"chosenAddressId"}})],1)],1),s("div",{staticClass:"buyshop"},[s("van-cell",{attrs:{title:"共"+t.cartInfo.length+"件商品"}}),t._l(t.cartInfo,(function(t){return s("van-card",{key:t.id,attrs:{num:t.cart_num,price:t.productInfo.attrInfo.price,desc:t.productInfo.attrInfo.suk,title:t.productInfo.store_name,thumb:t.productInfo.image}})}))],2),s("div",{staticClass:"else"},[s("van-cell",{attrs:{title:"快递费用",value:0==t.priceGroup.storePostage?"免运费":"￥"+t.priceGroup.storePostage}}),s("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"custom-title"},[t._v("备注信息")]),s("div",{staticClass:"remark"},[s("textarea",{attrs:{type:"text",placeholder:"请添加备注(150字以内)"}})])]},proxy:!0}])})],1),s("div",{staticClass:"payment"},[s("van-cell",{attrs:{title:"支付方式",border:!1}}),s("div",{staticClass:"balance"},[s("div",{class:t.selmoney?"balancemoney":"active balancemoney",on:{click:t.balancesel}},[s("div",{staticClass:"left"},[s("svg",{staticClass:"icon",attrs:{t:"1622019141143",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2385",width:"24",height:"24"}},[s("path",{attrs:{d:"M768 250.311111l-11.377778 5.688889c-68.266667 59.733333-156.444444 91.022222-244.622222 91.022222-91.022222 0-176.355556-31.288889-244.622222-91.022222L256 250.311111C119.466667 335.644444 25.6 483.555556 25.6 625.777778c0 219.022222 219.022222 398.222222 486.4 398.222222 267.377778 0 486.4-179.2 486.4-398.222222 0-142.222222-93.866667-290.133333-230.4-375.466667z m-113.777778 438.044445c17.066667 0 28.444444 14.222222 28.444445 28.444444 0 17.066667-14.222222 28.444444-28.444445 28.444444h-113.777778v62.577778c0 17.066667-14.222222 28.444444-28.444444 28.444445-17.066667 0-28.444444-14.222222-28.444444-28.444445v-62.577778h-113.777778c-17.066667 0-28.444444-14.222222-28.444445-28.444444 0-17.066667 14.222222-28.444444 28.444445-28.444444h113.777778v-68.266667h-113.777778c-17.066667 0-28.444444-14.222222-28.444445-28.444445 0-17.066667 14.222222-28.444444 28.444445-28.444444h68.266666l-48.355555-45.511111c-11.377778-11.377778-11.377778-31.288889 0-42.666667 11.377778-11.377778 31.288889-11.377778 42.666667 0l82.488888 76.8 79.644445-76.8c11.377778-11.377778 31.288889-11.377778 42.666667 0 11.377778 11.377778 11.377778 31.288889 0 42.666667l-48.355556 45.511111H654.222222c17.066667 0 28.444444 14.222222 28.444445 28.444444 0 17.066667-14.222222 28.444444-28.444445 28.444445h-113.777778v68.266667h113.777778z",fill:"#FE9C01","p-id":"2386"}}),s("path",{attrs:{d:"M733.866667 230.4s2.844444 0 0 0C674.133333 281.6 597.333333 312.888889 512 312.888889s-162.133333-31.288889-224.711111-82.488889c-51.2-42.666667-71.111111-85.333333-42.666667-125.155556 22.755556-34.133333 110.933333-25.6 153.6-19.911111 14.222222 2.844444 25.6-5.688889 31.288889-19.911111C446.577778 25.6 477.866667 0 512 0s65.422222 25.6 82.488889 65.422222c5.688889 14.222222 17.066667 22.755556 31.288889 19.911111 42.666667-5.688889 130.844444-14.222222 153.6 19.911111 25.6 39.822222 5.688889 82.488889-45.511111 125.155556z",fill:"#FE9C01","p-id":"2387"}}),s("path",{attrs:{d:"M290.133333 230.4c-51.2-42.666667-71.111111-85.333333-42.666666-125.155556 19.911111-34.133333 108.088889-25.6 150.755555-19.911111 14.222222 2.844444 25.6-5.688889 31.288889-19.911111C446.577778 25.6 477.866667 0 512 0s65.422222 25.6 82.488889 65.422222c5.688889 14.222222 17.066667 22.755556 31.288889 19.911111 42.666667-5.688889 130.844444-14.222222 153.6 19.911111 25.6 39.822222 5.688889 82.488889-42.666667 125.155556",fill:"#FE9C01","p-id":"2388"}})]),t._v(" 余额支付 ")]),s("div",{staticClass:"right"},[s("p",[t._v("可用余额:￥"+t._s(t.userInfo.now_money))])])])]),s("div",{staticClass:"wx"},[s("div",{class:t.selmoney?"active wxmoney":"wxmoney",on:{click:t.wxsel}},[s("div",{staticClass:"left"},[s("svg",{staticClass:"icon",attrs:{t:"1622018946625",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1344",width:"28",height:"28"}},[s("path",{attrs:{d:"M557.74 507.65a21.17 21.17 0 1 0 21.17 21.17 21.24 21.24 0 0 0-21.17-21.17zM376.45 375.5a24.69 24.69 0 1 0 12.24 21.32 24.76 24.76 0 0 0-12.24-21.32zM512.08 421.47a24.64 24.64 0 1 0-12.25-46 24.22 24.22 0 0 0-12.4 21.32 24.65 24.65 0 0 0 24.65 24.68zM674 507.65a21.17 21.17 0 1 0 21.17 21.17A21.24 21.24 0 0 0 674 507.65z",fill:"#07B906","p-id":"1345"}}),s("path",{attrs:{d:"M512 72C269.17 72 72 269.17 72 512s197.17 440 440 440 440-197.17 440-440S754.83 72 512 72z m-79.16 548.3c-21.16 0-42.18-3.63-61.68-8.77-1.67 0-3.63-1.66-3.63-1.66L320.05 638c-12.25 7.11-21.17 1.66-17.54-12.25 0 0 12.25-51.1 10.58-51.1-45.81-29.95-66.83-68.65-66.83-121.43C249.89 363.41 327.16 293 432.84 293c96.93 0 176 59.72 190.07 139.1h-8.77c-96.92 0-176 67-176 149.54a133.09 133.09 0 0 0 5.29 38.71z m283.36 68.8l14.06 28.27c7.11 12.25 1.66 17.54-10.58 10.59 0 0-35.08-21.17-36.9-19.36-15.87 5.3-51.1 10.59-68.64 10.59-89.82 0-163.75-61.69-163.75-137.29S524.32 444.45 614 444.45s163.75 61.69 163.75 137.29c-0.01 44-22.84 80.75-61.55 107.36z",fill:"#07B906","p-id":"1346"}})]),t._v(" 微信支付 ")]),t._m(0)])])],1),s("div",{staticClass:"totalprice"},[s("van-cell",{attrs:{title:"商品总价",value:"￥"+t.priceGroup.totalPrice}}),0!=t.priceGroup.storePostage?s("van-cell",{attrs:{title:"运费",value:"￥"+t.priceGroup.storePostage}}):t._e()],1),s("div",{staticClass:"buybox"},[s("div",{staticClass:"buy"},[s("div",{staticClass:"left"},[s("span",[t._v("合计:"),s("span",{staticClass:"text"},[t._v("￥"+t._s(t.money))])])]),s("div",{staticClass:"right"},[s("van-button",{attrs:{type:"primary",round:"",size:"normal"},on:{click:t.buy}},[t._v("立即结算")])],1)])])])},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"right"},[s("p",[t._v("微信快捷支付")])])}],n=s("5530"),r=(s("b0c0"),s("d81d"),s("a9e3"),s("2f62")),o={props:["id"],data:function(){return{chosenAddressId:1,list:[],addressInfo:{},cartInfo:[],priceGroup:{},userInfo:{},show:!1,address:"",name:"",tel:"",isDefault:0,money:0,selmoney:!1,orderKey:"",payType:"yue"}},methods:{balancesel:function(){this.selmoney&&(this.selmoney=!1,this.payType="yue")},wxsel:function(){this.selmoney||(this.selmoney=!0,this.payType="weixin")},buy:function(){var t=this;this.$axios({method:"post",url:"/api/order/create/"+this.orderKey,headers:{"Authori-zation":"Bearer "+this.tokens},data:{addressId:this.chosenAddressId,bargainid:0,combinationId:0,couponId:0,from:"weixinh5",mark:"",payType:this.payType,phone:"",pinkId:0,real_name:"",seckill_id:"",shipping_type:1,store_id:0,useIntegral:0}}).then((function(a){t.$toast({message:"结算中,请稍后...",onClose:function(){t.$router.push("/orderpage/"+a.data.data.result.orderId)}})}))},select:function(t){this.address=t.address,this.name=t.name,this.tel=t.tel,this.isDefault=t.isDefault,this.show=!1},changeasilt:function(){var t=this;this.show=!0,this.$axios.get("api/address/list",{headers:{"Authori-zation":"Bearer "+this.tokens}}).then((function(a){t.list=a.data.data.map((function(t){var a={id:t.id,name:t.real_name,tel:t.phone,address:t.province+t.city+t.district+t.detail,isDefault:t.is_default};return a}))}))}},created:function(){var t=this;this.$axios({method:"post",url:"api/order/confirm",headers:{"Authori-zation":"Bearer "+this.tokens},data:{cartId:this.id}}).then((function(a){t.addressInfo=a.data.data.addressInfo,t.cartInfo=a.data.data.cartInfo,t.priceGroup=a.data.data.priceGroup,t.userInfo=a.data.data.userInfo,t.chosenAddressId=a.data.data.addressInfo.id,t.address=a.data.data.addressInfo.province+a.data.data.addressInfo.city+a.data.data.addressInfo.district+a.data.data.addressInfo.detail,t.name=a.data.data.addressInfo.real_name,t.tel=a.data.data.addressInfo.phone,t.isDefault=a.data.data.addressInfo.is_default,t.money=Number(a.data.data.priceGroup.totalPrice)+Number(a.data.data.priceGroup.storePostage),t.orderKey=a.data.data.orderKey}))},computed:Object(n["a"])({},Object(r["c"])(["tokens"]))},d=o,c=(s("0e87"),s("2877")),l=Object(c["a"])(d,e,i,!1,null,null,null);a["default"]=l.exports},b0c0:function(t,a,s){var e=s("83ab"),i=s("9bf2").f,n=Function.prototype,r=n.toString,o=/^\s*function ([^ (]*)/,d="name";e&&!(d in n)&&i(n,d,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},d81d:function(t,a,s){"use strict";var e=s("23e7"),i=s("b727").map,n=s("1dde"),r=n("map");e({target:"Array",proto:!0,forced:!r},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},e674:function(t,a,s){}}]);
//# sourceMappingURL=chunk-37038f00.e77d8aab.js.map